<h1>Pomiar swiatla</h1>
<h4>Date: <span id="date"></span></h4>
<div class="chart-container" style="position: relative; width:75vw; margin: auto;">
    <canvas id="myChart"></canvas>
</div>
<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.4.0/Chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
<script>
    var socket = io.connect('http://localhost:3000'); //connect to server

    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {

        type: 'line',

        data: {
            labels: ["A","B","C","D","E","F","G","H","J","K","L", "M", "N","O","P","R","S"],
            datasets: [{
                label: "Swiatlo",
                borderColor: "#FF5733",
                data: [],
                fill: false,
                pointStyle: 'circle',
                backgroundColor: '#3498DB',
                pointRadius: 5,
                pointHoverRadius: 7,
                lineTension: 0,
            }]
        },

        // Configuration options go here
        options: {}

    });

    socket.on('temp', function(data) {
        console.log(data.temp);
        chart.data.datasets.forEach((dataset) => {
            dataset.data.push(...data.temp);
        });
        chart.update();
    });
</script>
<style>
    h1 {
        text-align: center;
        font-family: 'Lato', sans-serif;
    }

    h4 {
        text-align: center;
        font-family: 'Lato', sans-serif;
    }

    p {
        text-align: center;
        font-family: 'Lato', sans-serif;
    }
</style>